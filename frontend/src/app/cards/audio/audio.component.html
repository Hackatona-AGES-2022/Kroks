<div>
  <h2>Transcrição de Áudio</h2>
</div>

<div class="row">
  <div class="col">
    <div class="mb-3">
      <app-button
      *ngIf="!sendAudio"
        title="Enviar arquivo"
        icon="bi-file-earmark-music"
        type="btn-secondary btn-upload shadow"
        alt="Enviar Arquivo de Áudio"
        (click)="handleClick()"
      ></app-button>
      
      <button *ngIf="sendAudio" class="btn btn-warning" type="button" disabled>
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        Carregando...
      </button>
    </div>
  </div>
  <div class="col">
    <app-button
      title="Gravar"
      icon="bi-mic"
      type="btn-secondary btn-realtime shadow"
      alt="Captação de Áudio em tempo real"
      *ngIf="!isRecording"
      (click)="startStopRecording()"
    ></app-button>
    <app-button
      title="Parar de Gravar"
      icon="bi-mic-mute"
      type="btn-danger"
      *ngIf="isRecording"
      alt="Interromper captação de Áudio em tempo real"
      (click)="startStopRecording()"
    ></app-button>
  </div>
  <input
    id="file-input"
    type="file"
    class="hiden"
    accept="audio/wav"
    (change)="handleFile($event)"
  />
</div>

<app-response *ngIf="text !== ''" response="{{ text }}"></app-response>
